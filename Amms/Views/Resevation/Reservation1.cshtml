@model Amms.Models.Reservation
@using DayPilot.Web.Mvc.Events.Calendar;
@using DayPilot.Web.Mvc.Enums.Calendar;

@{
	ViewBag.Title = "Reservation";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="@Url.Content("https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.0/jquery.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/Calendar/lib/dayPilot/daypilot-all.min.js")" type="text/javascript"></script>

<head>
	<style>
		lable {
			color: #a6a6a6;
			font-family: 'Open Sans', sans-serif;
			font-size: 13px;
		}
	</style>
</head>

<body>
@if (ViewBag.Status != null && Convert.ToBoolean(ViewBag.Status))
{
	if (ViewBag.Message != null)
	{
		<div class="alert alert-success">
			<strong>Your Reservation is successfully placed</strong>
		</div>
	}
}


@using (Html.BeginForm("GetReservation", "Resevation", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
	@Html.AntiForgeryToken()

	<!-- #page-title end -->
	<section>
		<h2>Reservations</h2>
		<div class="clearfix mb-150">
			<div class="container">
				<form class="mb-0">
					<div class="form-group">
						<label type="text" class="form-control" id="firstname">First Name: @Model.FirstName</label>
					</div>
					<div class="form-group">
						<label type="text" class="form-control" id="lastname">Last Name: @Model.LastName</label>
					</div>
					<div class="form-group">
						<label type="text" class="form-control" id="mobile">Mobile: @Model.Mobile</label>
					</div>
					<div class="form-group">
						<label type="text" class="form-control" id="email">Email: @Model.EmailID</label>
					</div>

					<div class="form-group">
						<label type="text" class="form-control" id="vehicle"> Select Your Vehicle</label>
						<div class="col-md-10">
							@Html.DropDownListFor(m => m.Myvehicle.VehicleID, new SelectList(Model.VehicleDropList, "Key", "Value"), "Select Vehicle")
							@Html.ValidationMessageFor(model => model.Myvehicle.VehicleID, "", new { @class = "text-danger" })
						</div>
					</div>

					<div class="form-group">
						<label> </label>
					</div>

					<div class="about-accordion">
						<div class="panel-group accordion" id="accordion02" role="tablist" aria-multiselectable="true">
							<div class="panel panel-default">
								<div class="panel-heading" role="tab" id="headingTwo">
									<h4>
										<label type="text" class="form-control" id="time">Allocated Time Slots</label>
										<a class="accordion-toggle collapsed" role="button" data-toggle="collapse" data-parent="#accordion02" href="#collapse02-2" aria-expanded="false" aria-controls="collapse02-2"> </a>
									</h4>
								</div>
								<div id="collapse02-2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo" aria-expanded="false">
									<div class="panel-body">
										<div style="display: flex">

											<div style="margin-right: 10px;">

												@Html.DayPilotNavigator("nav", new DayPilotNavigatorConfig
										   {
											   ShowMonths = 3,
											   SkipMonths = 3
										   })
											</div>

											<div style="flex-grow: 1;">

												@Html.DayPilotCalendar("dp_week", new DayPilotCalendarConfig
										   {
											   BackendUrl = Url.Content("~/Calendar/Week"),
											   ViewType = DayPilot.Web.Mvc.Enums.Calendar.ViewType.Week,
											   TimeRangeSelectedHandling = TimeRangeSelectedHandlingType.JavaScript,
											   TimeRangeSelectedJavaScript = "create(start, end)"

										   })
											</div>
										</div>

									</div>
								</div>

							</div>
						</div>
					</div>

					<div class="form-group">
						<label for="text" id="AppointmentD">Appointment Date: </label><input type="date" id="AppDate" name="appdate">

					</div>
					<div class="form-group">
						<label type="text" id="AppointmentT">Appointment Time: </label> <input type="time" id="AppTime" name="apptime">

					</div>
					<div class="form-group ">
						<label type="text" class="form-control" id="Service">Select your Services</label>
						@foreach (var u in Model.ServList)
						{
							<input class="form-check-input" type="checkbox" id="@u.ServiceID"> @u.ServiceName<br />
							@*@Html.CheckBoxFor(m => m.StaticCheckbox[i].Selected, new { @class = "flat" })

							@Html.DisplayFor(m => m.Myservice.ServiceName)

							@Html.HiddenFor(m => m.Myservice.ServiceID)*@

						}
					</div>

					<button type="submit" class="btn btn-primary text-center mt-30">Reserve</button>
				</form>
			</div>
		</div>
	</section>
	}
</body>
